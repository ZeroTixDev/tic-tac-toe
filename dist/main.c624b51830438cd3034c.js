(()=>{var t={426:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(645),n=i.n(r)()((function(t){return t[1]}));n.push([t.id,"* {\r\n\tmargin:0;\r\n\tpadding:0;\r\n\tbox-sizing:border-box;\r\n}\r\nbody {\r\n\tbackground: #14bdac;\r\n}\r\ncanvas {\r\n\tposition:absolute;\r\n}",""]);const s=n},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,r){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(r)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(n[o]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&n[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},654:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var r=i(379),n=i.n(r),s=i(426);n()(s.Z,{insert:"head",singleton:!1});const o=s.Z.locals||{}},379:(t,e,i)=>{"use strict";var r,n=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),s=[];function o(t){for(var e=-1,i=0;i<s.length;i++)if(s[i].identifier===t){e=i;break}return e}function a(t,e){for(var i={},r=[],n=0;n<t.length;n++){var a=t[n],c=e.base?a[0]+e.base:a[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var h=o(u),x={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(s[h].references++,s[h].updater(x)):s.push({identifier:u,updater:m(x,e),references:1}),r.push(u)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var s=i.nc;s&&(r.nonce=s)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var o=n(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,i,r){var n=i?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,n);else{var s=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function x(t,e,i){var r=i.css,n=i.media,s=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,f=0;function m(t,e){var i,r,n;if(e.singleton){var s=f++;i=d||(d=c(e)),r=h.bind(null,i,s,!1),n=h.bind(null,i,s,!0)}else i=c(e),r=x.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var i=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<i.length;r++){var n=o(i[r]);s[n].references--}for(var c=a(t,e),l=0;l<i.length;l++){var u=o(i[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}i=c}}}},493:(t,e,i)=>{"use strict";const{Timer:r}=i(356);t.exports=class{constructor(t,e){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.canvas.width=t,this.canvas.height=e,this.restartTimer=new r({start:0,max:1}),this.scale=void 0,this.resize(),document.body.appendChild(this.canvas)}resize(){let t=window.innerWidth,e=window.innerHeight,i=Math.min(t/this.canvas.width,e/this.canvas.height);this.canvas.style.transform="scale("+i+")",this.canvas.style.left=(t-this.canvas.width)/2+"px",this.canvas.style.top=(e-this.canvas.height)/2+"px",this.scale=i}listen(t,e){this.canvas.addEventListener(t,e)}}},249:(t,e,i)=>{"use strict";const{Timer:r}=i(356);t.exports=class{constructor(t="none",e=["X","O","none"]){this.type="none"===t?"none":t,this.types=e}avail(){return"none"===this.type}update(t){this.circleTimer&&this.circleTimer.update(t),this.xTimer&&this.xTimer.update(t)}occupy(t){if(this.types.indexOf(t)<=-1)throw new Error("This is the wrong cell type || cell.js");if(this.type=t,"O"===this.type){const t=.2;this.circleTimer=new r({start:0,max:360,mult:360/t}),this.circleTimer.begin()}else if("X"===this.type){const t=.2;this.xTimer=new r({start:0,max:20,mult:20/t}),this.xTimer.begin()}}}},556:t=>{"use strict";const e=Math.round(400/3),i=Math.round(400/3);t.exports={GAME_WIDTH:1600,GAME_HEIGHT:900,CELL_WIDTH:e,CELL_HEIGHT:i,BACKGROUND_COLOR:"#14bdac",CENTER_X:800,CENTER_Y:450,SIZE:3,PADDING:200,GRID_OUTLINE_COLOR:"#0da192",X_COLOR:"#545454",O_COLOR:"#f2ebd3",TEXT_COLOR:"#0a786d",HIGHLIGHT_COLOR:"#0ddec9"}},123:(t,e,i)=>{"use strict";const{Timer:r}=i(356),n=i(249);t.exports=class t{constructor(t=3,e=[[new n,new n,new n],[new n,new n,new n],[new n,new n,new n]]){this.size=t,this.matrix=e,this.gridTimer=new r({start:0,max:260,mult:520})}full(){for(let t in this.matrix)for(let e in this.matrix[t])if(this.matrix[t][e].avail())return!1;return!0}copy(){return new t(this.size,this.matrix)}cellUpdate(t){for(let e in this.matrix)for(let i in this.matrix[e])this.matrix[e][i].update(t);this.gridTimer&&this.gridTimer.update(t)}availableSpots(){const t=[];for(let e in this.matrix)for(let i in this.matrix[e]){const r=this.matrix[e][i];r.avail()&&t.push({cell:r,row:e,col:i})}return t}makeMove({row:t,col:e,turn:i}){this.matrix[t][e].occupy(i)}clear(){for(let t in this.matrix)for(let e in this.matrix[t])this.matrix[t][e]=new n}}},212:(t,e,i)=>{"use strict";function r(t){return t*Math.PI/180}const{CELL_WIDTH:n,CELL_HEIGHT:s,BACKGROUND_COLOR:o,CENTER_X:a,CENTER_Y:c,SIZE:l,GAME_WIDTH:u,GAME_HEIGHT:h,PADDING:x,GRID_OUTLINE_COLOR:d,X_COLOR:f,O_COLOR:m,TEXT_COLOR:p,HIGHLIGHT_COLOR:v}=i(556);t.exports=function({canvas:t,grid:e,mouse:i,turn:y,delta:T,scores:w,state:g,choseDif:b,mode:O,human:E}){if(!e||!t)throw new Error("called from render... canvas || grid is not defined");if(!b){t.ctx.fillStyle=o,t.ctx.fillRect(0,0,u,h),t.ctx.font="25px sans-serif",t.ctx.textAlign="center",t.ctx.fillStyle=p,t.ctx.textBaseline="middle",t.ctx.fillText("Player vs Player",a-225,c),t.ctx.fillText("Player vs Computer",a+275,c),t.ctx.strokeStyle=d,t.ctx.lineWidth=10;let e=a-350,r=c-50,n=250,s=100;if(i.touches({x:e,y:r,width:n,height:s})){if(i.on)return{type:"pvp"};t.ctx.strokeStyle=v}if(t.ctx.strokeRect(e,r,n,s),t.ctx.strokeStyle=d,e=a+150,r=c-50,n=250,s=100,i.touches({x:e,y:r,width:n,height:s})){if(i.on)return{type:"pvc"};t.ctx.strokeStyle=v}return void t.ctx.strokeRect(a+150,c-50,250,100)}if((g.is("win")||g.is("tie"))&&(t.restartTimer.update(T),t.restartTimer.current>=t.restartTimer.max&&i.on))return!0;e.cellUpdate(T),t.ctx.fillStyle=o,t.ctx.fillRect(0,0,u,h);const C=a-n*(l/2),S=c-s*(l/2);let M=!1;for(let o in e.matrix)for(let a in e.matrix[o]){const c=e.matrix[o][a],l=C+o*n-1,u=S+a*s-1,h=n+1,x=s+1;if(i.touches({x:l,y:u,width:h,height:x})&&c.avail()&&g.not("win")&&i.on&&!M&&("pvc"===O&&y===E||"pvp"===O)&&(e.makeMove({row:o,col:a,turn:y}),M=!0),t.ctx.strokeStyle=d,t.ctx.strokeRect(l,u,h,x),"O"===c.type&&(t.ctx.lineWidth=12,t.ctx.strokeStyle=m,t.ctx.save(),t.ctx.translate(l+h/2,u+x/2),t.ctx.scale(-1,1),t.ctx.rotate(r(-90)),t.ctx.beginPath(),c.circleTimer&&c.circleTimer.current>0&&t.ctx.arc(0,0,40,0,r(c.circleTimer.current)),t.ctx.stroke(),t.ctx.restore()),"X"===c.type){t.ctx.lineWidth=12,t.ctx.strokeStyle=f;let e=50;c.xTimer&&c.xTimer.current>0&&(e=-1*c.xTimer.current+50),t.ctx.beginPath(),t.ctx.lineTo(l+e,u+e),t.ctx.lineTo(l+h-e,u+x-e),t.ctx.stroke(),t.ctx.beginPath(),t.ctx.lineTo(l+h-e,u+e),t.ctx.lineTo(l+e,u+x-e),t.ctx.stroke()}t.ctx.lineWidth=8}t.ctx.strokeStyle=o,t.ctx.lineWidth=15,t.ctx.lineWidth=-1*e.gridTimer.current+290,t.ctx.strokeRect(C,S,n*l,s*l),t.ctx.lineWidth=8,t.ctx.textAlign="center",t.ctx.fillStyle=p,t.ctx.font="30px sans-serif";let _=`${y} Turn`;g.is("tie")&&(_="The board is full"),g.is("win")&&(_=`Player ${y} has won`);const R=a,k=c-x-10;t.ctx.fillText(_,R,k),t.ctx.fillStyle=p,t.ctx.save(),t.ctx.globalAlpha=t.restartTimer.current/t.restartTimer.max,(g.is("win")||g.is("tie"))&&t.ctx.fillText("Click the screen to play again",R,c+1.5*x),t.ctx.globalAlpha=1,t.ctx.restore(),t.ctx.strokeStyle=d,t.ctx.font="40px sans-serif","X"===y&&(t.ctx.strokeStyle=v),t.ctx.strokeRect(a-350,x/2,300,70),t.ctx.strokeStyle=d,t.ctx.fillStyle=p,t.ctx.textBaseline="alphabetic",t.ctx.fillText("X",a-300,x/2+50);let L=String(w[0]);0===w[0]&&(L="-"),t.ctx.font="45px Arial",t.ctx.fillText(L,a-75,x/2+50),"O"===y&&(t.ctx.strokeStyle=v),t.ctx.strokeRect(a+50,x/2,300,70),t.ctx.font="40px sans-serif",t.ctx.fillText("O",a+100,x/2+50);let I=String(w[1]);return 0===w[1]&&(I="-"),t.ctx.font="45px Arial",t.ctx.fillText(I,a+325,x/2+50),t.ctx.font="30px sans-serif",M}},949:t=>{"use strict";t.exports=class{constructor(){this.x=-1,this.y=-1,this.on=!1}update({event:t,canvas:e}){const i=e.canvas.getBoundingClientRect();this.x=Math.round((t.pageX-i.left)/e.scale),this.y=Math.round((t.pageY-i.top)/e.scale)}down(){this.on=!0}up(){this.on=!1}touches({x:t,y:e,width:i,height:r}){return this.x>t&&this.x<t+i&&this.y>e&&this.y<e+r}}},265:t=>{t.exports=class{constructor(t="game",e=["game","tie","win"]){this.state=t,this.states=e}is(t){return this.state===t}not(t){return this.state!==t}set(t){if(!(this.states.indexOf(t)>-1))throw new Error("Cannot set state of undefined, try adding it in the states array || called from state.js");this.state=t}}},356:t=>{"use strict";t.exports={Time:class{constructor(){this.lastTime=0,this.delta=0}update(t){this.delta=(t-this.lastTime)/1e3,this.lastTime=t}},Timer:class{constructor({start:t,max:e,mult:i=1}){this.start=t,this.max=e,this.mult=i,this.current=this.max}begin(){this.current=this.start}update(t){this.current<this.max&&(this.current+=t*this.mult,this.mult>1&&(this.current+=this.current/this.max*5)),this.current>=this.max&&(this.current=this.max)}}}},359:t=>{t.exports=class{constructor(t=["X","O"]){this.types=t,this.index=0}get turn(){return this.types[this.index]}next(){this.index+=1,this.index>this.types.length-1&&(this.index=0)}randomize(){this.index=Math.floor(Math.random()*this.types.length)}}},795:t=>{function e(t){return t.every((e=>e===t[0]))}function i(t){return t.map((t=>t.type))}function r(t){return t.every((t=>!t.avail()))}t.exports=function(t){for(let n in t)if(e(i(t[n]))&&r(t[n]))return!0;for(let n=0;n<t.length;n++){const s=[];for(let e=0;e<t[n].length;e++)s.push(t[e][n]);if(e(i(s))&&r(s))return!0}const n=(()=>{const e=[];for(let i=0;i<t.length;i++)e.push(t[i][i]);return e})(),s=(()=>{const e=[];let i=0;for(let r=t.length-1;r>=0;r--)e.push(t[r][i]),i++;return e})();return!(!e(i(n))||!r(n))||!(!e(i(s))||!r(s))}}},e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={id:r,exports:{}};return t[r](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";i(654);const{GAME_WIDTH:t,GAME_HEIGHT:e}=i(556),r=i(493),n=i(123),s=i(949),o=i(359),{Time:a}=i(356),c=i(265),l=i(212),u=i(795),h=new r(t,e),x=new n,d=new s,f=new a,m=new c,p=new o,v=[0,0];let y=!1,T=null;window.addEventListener("resize",(()=>{h.resize()})),h.listen("mousemove",(t=>d.update({event:t,canvas:h}))),h.listen("mousedown",(()=>d.down())),h.listen("mouseup",(()=>d.up()));const w=()=>new Promise((t=>{t(g(x.copy(),0,!0))}));function g(t,e,i){if(u(t.matrix))return i?10-e+10*Math.random()-5:e-10+10*Math.random()-5;if(t.full())return 0;if(e>=2)return 1;const r=[];for(let n in t.matrix)for(let s in t.matrix[n]){const o=t.copy();if(!o.matrix[n][s].avail())continue;o.makeMove({row:n,col:s,turn:i?"X":"O"});const a=g(o.copy(),e+1,!i);o.makeMove({row:n,col:s,turn:"none"}),r.push({cost:a,cell:{row:n,col:s}})}if(i){const t=r.sort(((t,e)=>t.cost-e.cost))[0];return 0===e?t.cell:t.cost}{const t=r.sort(((t,e)=>e.cost-t.cost))[0];return 0===e?t.cell:t.cost}}function b(){x.availableSpots().length>0&&async function(){const t=Date.now(),{row:e,col:i}=await w();var r;Date.now()-t<1500&&await(r=100*Math.random()+500,new Promise((t=>setTimeout(t,r)))),x.makeMove({row:e,col:i,turn:"X"}),u(x.matrix)&&m.not("win")?(m.set("win"),v[p.index]++,h.restartTimer.begin()):p.next()}()}function O(){p.randomize(),x.clear(),m.set("game"),d.up(),x.gridTimer.begin(),"pvc"===T&&"X"===p.turn&&b()}!function t(e){f.update(e);const i=l({canvas:h,grid:x,mouse:d,turn:p.turn,delta:f.delta,scores:v,state:m,choseDif:y,mode:T,human:"O"});!0===i&&(u(x.matrix)&&m.not("win")?(m.set("win"),v[p.index]++,h.restartTimer.begin()):m.is("win")||m.is("tie")?O():(p.next(),"pvc"===T&&b())),"object"==typeof i&&i.type&&!y&&(y=!0,"pvp"===i.type&&(T="pvp"),"pvc"===i.type&&(T="pvc"),O()),x.full()&&m.not("win")&&m.not("tie")&&(m.set("tie"),h.restartTimer.begin()),requestAnimationFrame(t)}()})()})();