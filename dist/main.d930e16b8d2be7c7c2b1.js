(()=>{var t={426:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,"* {\r\n\tmargin:0;\r\n\tpadding:0;\r\n\tbox-sizing:border-box;\r\n}\r\nbody {\r\n\tbackground: rgb(20,20,20);\r\n}\r\ncanvas {\r\n\tposition:absolute;\r\n\tbackground:black;\r\n\tcursor:crosshair;\r\n}",""]);const s=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(i[a]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},654:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(379),i=n.n(r),s=n(426);i()(s.Z,{insert:"head",singleton:!1});const a=s.Z.locals||{}},379:(t,e,n)=>{"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function o(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var h=a(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:u,updater:p(d,e),references:1}),r.push(u)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var s=n.nc;s&&(r.nonce=s)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var s=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function d(t,e,n){var r=n.css,i=n.media,s=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var f=null,x=0;function p(t,e){var n,r,i;if(e.singleton){var s=x++;n=f||(f=c(e)),r=h.bind(null,n,s,!1),i=h.bind(null,n,s,!0)}else n=c(e),r=d.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=o(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var c=o(t,e),l=0;l<n.length;l++){var u=a(n[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=c}}}},493:(t,e,n)=>{"use strict";const{Timer:r}=n(356);t.exports=class{constructor(t,e){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.ctx.textAlign="center",this.canvas.width=t,this.canvas.height=e,this.state="game",this.restartTimer=new r({start:0,max:1}),this.scale=void 0,this.resize(),document.body.appendChild(this.canvas)}resize(){let t=window.innerWidth,e=window.innerHeight,n=Math.min(t/this.canvas.width,e/this.canvas.height);this.canvas.style.transform="scale("+n+")",this.canvas.style.left=(t-this.canvas.width)/2+"px",this.canvas.style.top=(e-this.canvas.height)/2+"px",this.scale=n}listen(t,e){this.canvas.addEventListener(t,e)}}},249:t=>{"use strict";t.exports=class{constructor(t="none"){this.type="none"===t?"none":t}avail(){return"none"===this.type}occupy(t){this.type=t}}},556:t=>{"use strict";const e=Math.round(400/3),n=Math.round(400/3);t.exports={GAME_WIDTH:1600,GAME_HEIGHT:900,CELL_WIDTH:e,CELL_HEIGHT:n,BACKGROUND_COLOR:"rgb(230,230,230)",CENTER_X:800,CENTER_Y:450,SIZE:3,PADDING:200}},123:(t,e,n)=>{"use strict";const r=n(249);t.exports=class{constructor(t=3,e=[[new r,new r,new r],[new r,new r,new r],[new r,new r,new r]]){this.size=t,this.matrix=e}full(){for(let t in this.matrix)for(let e in this.matrix[t])if(this.matrix[t][e].avail())return!1;return!0}clear(){for(let t in this.matrix)for(let e in this.matrix[t])this.matrix[t][e]=new r}}},212:(t,e,n)=>{"use strict";const{CELL_WIDTH:r,CELL_HEIGHT:i,BACKGROUND_COLOR:s,CENTER_X:a,CENTER_Y:o,SIZE:c,GAME_WIDTH:l,GAME_HEIGHT:u,PADDING:h}=n(556);t.exports=function({canvas:t,grid:e,mouse:n,turn:d,delta:f,scores:x,theme:p}){if(!e||!t)throw new Error("called from render... canvas || grid is not defined");if(("win"===t.state||"tie"===t.state)&&(t.restartTimer.update(f),t.restartTimer.current>t.restartTimer.max&&n.on))return!0;t.ctx.fillStyle=s,t.ctx.fillRect(0,0,l,u),"colors"===p&&(t.ctx.fillStyle="rgb(0,0,160)",t.ctx.fillRect(0,0,a,u),t.ctx.fillStyle="rgb(160,0,0)",t.ctx.fillRect(a,0,l/2,u));const m=a-r*(c/2),v=o-i*(c/2);t.ctx.strokeStyle="black",t.ctx.lineWidth=5,t.ctx.strokeRect(m,v,r*c,i*c);let g=!1;for(let s in e.matrix)for(let a in e.matrix[s]){const o=e.matrix[s][a],c=m+s*r-1,l=v+a*i-1,u=r+1,h=i+1;if(n.x>c&&n.x<c+u&&n.y>l&&n.y<l+h&&o.avail()&&"win"!==t.state&&(t.ctx.lineWidth=9,n.on&&(o.occupy(d),g=!0)),t.ctx.strokeStyle=`rgb(${o.color},${o.color},${o.color})`,t.ctx.strokeRect(c,l,u,h),"O"===o.type&&("letters"===p?(t.ctx.lineWidth=9,t.ctx.beginPath(),t.ctx.arc(c+u/2,l+h/2,45,0,2*Math.PI),t.ctx.stroke()):"colors"===p&&(t.ctx.fillStyle="red",t.ctx.fillRect(c,l,u,h))),"X"===o.type)if("letters"===p){t.ctx.lineWidth=9;const e=20;t.ctx.beginPath(),t.ctx.lineTo(c+e,l+e),t.ctx.lineTo(c+u-e,l+h-e),t.ctx.stroke(),t.ctx.beginPath(),t.ctx.lineTo(c+u-e,l+e),t.ctx.lineTo(c+e,l+h-e),t.ctx.stroke()}else"colors"===p&&(t.ctx.fillStyle="blue",t.ctx.fillRect(c,l,u,h));t.ctx.lineWidth=5}t.ctx.textAlign="center",t.ctx.fillStyle="black","colors"===p&&(t.ctx.fillStyle="white"),t.ctx.font="30px sans-serif";let y=`It's ${d}'s Turn`;"tie"===t.state&&(y="The board is full"),"win"===t.state&&(y=`Player ${d} has won`);const b=a,w=u-h;return t.ctx.fillText(y,b,w),t.ctx.fillText("Space to change the game theme",a,h),t.ctx.font="60px sans-serif","letters"===p?(t.ctx.fillText(`X ${x[0]}`,2*h,o),t.ctx.fillText(`O ${x[1]}`,l-2*h,o)):"colors"===p&&(t.ctx.fillText(`Blue ${x[0]}`,2*h,o),t.ctx.fillText(`Red ${x[1]}`,l-2*h,o)),t.ctx.font="30px sans-serif",t.ctx.fillStyle="rgba(0,0,0,"+t.restartTimer.current/t.restartTimer.max,"colors"===p&&(t.ctx.fillStyle="rgba(255,255,255,"+t.restartTimer.current/t.restartTimer.max),"win"!==t.state&&"tie"!==t.state||t.ctx.fillText("Click the screen to play again",b,w+h/2),g}},949:t=>{"use strict";t.exports=class{constructor(){this.x=-1,this.y=-1,this.on=!1}update({event:t,canvas:e}){const n=e.canvas.getBoundingClientRect();this.x=Math.round((t.pageX-n.left)/e.scale),this.y=Math.round((t.pageY-n.top)/e.scale)}down(){this.on=!0}up(){this.on=!1}}},356:t=>{"use strict";t.exports={Time:class{constructor(){this.lastTime=0,this.delta=0}update(t){this.delta=(t-this.lastTime)/1e3,this.lastTime=t}},Timer:class{constructor({start:t,max:e}){this.start=t,this.max=e,this.current=this.max}begin(){this.current=this.start}update(t){this.current<this.max&&(this.current+=t)}}}},359:t=>{t.exports=class{constructor(t=["X","O"]){this.types=t,this.index=Math.floor(Math.random()*this.types.length)}get turn(){return this.types[this.index]}next(){this.index+=1,this.index>this.types.length-1&&(this.index=0)}randomize(){this.index=Math.floor(Math.random()*this.types.length)}}},795:t=>{function e(t){return t.every((e=>e===t[0]))}function n(t){return t.map((t=>t.type))}function r(t){return t.every((t=>!t.avail()))}t.exports=function(t){for(let i in t)if(e(n(t[i]))&&r(t[i]))return!0;for(let i=0;i<t.length;i++){const s=[];for(let e=0;e<t[i].length;e++)s.push(t[e][i]);if(e(n(s))&&r(s))return!0}const i=(()=>{const e=[];for(let n=0;n<t.length;n++)e.push(t[n][n]);return e})(),s=(()=>{const e=[];let n=0;for(let r=t.length-1;r>=0;r--)e.push(t[r][n]),n++;return e})();return!(!e(n(i))||!r(i))||!(!e(n(s))||!r(s))}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";n(654);const{GAME_WIDTH:t,GAME_HEIGHT:e}=n(556),r=n(493),i=n(123),s=n(949),a=n(359),{Time:o}=n(356),c=n(212),l=n(795),u=new r(t,e),h=new i,d=new s,f=new o,x=new a,p=[0,0];let m="letters";window.addEventListener("resize",(()=>{u.resize()})),window.addEventListener("keyup",(({keyCode:t})=>{32===t&&(m="letters"===m?"colors":"letters")})),u.listen("mousemove",(t=>d.update({event:t,canvas:u}))),u.listen("mousedown",(()=>d.down())),u.listen("mouseup",(()=>d.up())),function t(e){f.update(e),c({canvas:u,grid:h,mouse:d,turn:x.turn,delta:f.delta,scores:p,theme:m})&&(l(h.matrix)&&"win"!==u.state?(u.state="win",p[x.index]++,u.restartTimer.begin()):"win"===u.state||"tie"===u.state?(x.randomize(),h.clear(),u.state="game",d.up(),console.log(u,h,d,x)):x.next()),h.full()&&"win"!=u.state&&"tie"!==u.state&&(u.state="tie",u.restartTimer.begin()),requestAnimationFrame(t)}()})()})();